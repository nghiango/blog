<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/1b83b19899daad40.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/1b83b19899daad40.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-701f6a78412d5185.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-de0699283ff4f1d0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-19399bcdf56baa52.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-8632c6a178bb83ff.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/6c86d9ce-5c3713bcd78fdc7a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/162-ae367f7794a4e1a0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/guide/%5Bslug%5D-e55bca3e70a27023.js" defer="" crossorigin=""></script><script src="/_next/static/ylG0eKTBBf-wlJIinfZSJ/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/ylG0eKTBBf-wlJIinfZSJ/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="page__container"><div class="fixed bg-white w-full z-10" data-headlessui-state=""><div class="mx-auto px-4 sm:px-6 position-fixed"><div class="flex items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10"><div class="flex justify-start"><div class="relative" data-headlessui-state=""><a href="/"><span class="text-gray-500 cursor-pointer group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="h-9 w-9 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg> <span class="text-xl pt-1">HOME</span></span></a></div><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div><nav class="hidden md:flex space-x-10"><div class="relative" data-headlessui-state=""><button class="text-gray-500 group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" type="button" aria-expanded="false" data-headlessui-state=""><span>Devs Document</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="text-gray-400 ml-2 h-5 w-5 group-hover:text-gray-500"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div></nav><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><nav class="hidden md:flex space-x-10"><div class="relative" data-headlessui-state=""><button class="text-gray-500 group bg-white rounded-md inline-flex items-center text-base font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" type="button" aria-expanded="false" data-headlessui-state=""><a href="/info/about-me"><span>About me</span></a></button></div></nav><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div></div></div></div><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><main class="container w-100 lg:w-8/12 mx-auto flex flex-col pb-16 pt-40"><div class="card card-page"><div class="post__header"><h1 class="post__title post--padding">Sub component for big complex component</h1><div class="post__author post--padding"><p>By <span class="font-bold">Nghia Ngo</span></p><span class="text-sm">Feb 07, 2024</span></div><img class="post__image-cover" src="/images/posts/how-you-understand-nodejs/nodejs-cover.jpeg" alt="image-cover"/></div><div class="post__body post--padding"><h1>Introduction</h1>
<p class=" code-block__paragraph">When we are working in a complex component, which are made up of many different pieces.
We can put all these components into a folder to show the relationship between them. But this way doesn&#x27;t show the
relationship when we are using them. Therefore, to boost the relationship and speed up the development.
We can use sub-component to show the relationship between components.</p>
<h2>What is sub-component</h2>
<p class=" code-block__paragraph">Sub-component is a child component that can be call by Parent component.
For example, we have a <code value="Card" class="code-block__code">Card</code> component, and we want to use <code value="Header" class="code-block__code">Header</code>, <code value="Body" class="code-block__code">Body</code>, <code value="Footer" class="code-block__code">Footer</code> in <code value="Card" class="code-block__code">Card</code> component.
We can create <code value="Header" class="code-block__code">Header</code>, <code value="Body" class="code-block__code">Body</code>, <code value="Footer" class="code-block__code">Footer</code> as sub-component of <code value="Card" class="code-block__code">Card</code> component.
Then we export them inside <code value="Card" class="code-block__code">Card</code> component, and access them by <code value="Card.Header" class="code-block__code">Card.Header</code>, <code value="Card.Body" class="code-block__code">Card.Body</code>, <code value="Card.Footer" class="code-block__code">Card.Footer</code>.</p>
<h2>Why we need sub-component</h2>
<h3>Namespacing</h3>
<p class=" code-block__paragraph">All sub-components are inherently namespaced under the parent component. Although we can use this component without
the parent component, the name of the sub-component will notify the user that it is a part of the parent component.
Therefore, we don&#x27;t take too much effort to see the relationship between them.</p>
<h3>Single Import</h3>
<p class=" code-block__paragraph">With only parent component imported, we can call all sub-components. It&#x27;s very convenient when we want to grow the
component in the future, and then we don&#x27;t need to re-import the sub-components.</p>
<h3>Discoverability</h3>
<p class=" code-block__paragraph">With namespacing, the developers don&#x27;t need to remember the name of the sub-component. We just only need to know the parent
component, and then we can use dot notation to see all the sub-components.</p>
<h1>How to create sub-component</h1>
<p class=" code-block__paragraph">To create sub-component, we have different ways to do it. We can use class component, function component.</p>
<h2>Using class component</h2>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#c792ea;font-style:italic">interface</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">IHeaderProps</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    children</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">ReactNode</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">class</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">Header</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">extends</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Component</span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token maybe-class-name">IHeaderProps</span><span class="token token" style="color:#89ddff">&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>   </span><span class="token token" style="color:#c792ea;font-style:italic">public</span><span> </span><span class="token token" style="color:#c792ea">render</span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>            </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__header</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">{</span><span class="token token" style="color:#c792ea;font-style:italic">this</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">props</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">interface</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">ICardProps</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    children</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">ReactNode</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">class</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">Card</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">extends</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Component</span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token maybe-class-name">IProps</span><span class="token token" style="color:#89ddff">&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">public</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">static</span><span> </span><span class="token token maybe-class-name">Header</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">public</span><span> </span><span class="token token" style="color:#c792ea">render</span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>            </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">{</span><span class="token token" style="color:#c792ea;font-style:italic">this</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">props</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span></code></pre></div></pre>
<p class=" code-block__paragraph">You can refer to the example above, we can add <code value="Body" class="code-block__code">Body</code> and <code value="Footer" class="code-block__code">Footer</code> in the same way as <code value="Header" class="code-block__code">Header</code>.</p>
<p class=" code-block__paragraph">After defined public static <code value="Header" class="code-block__code">Header</code>, <code value="Body" class="code-block__code">Body</code>, and <code value="Footer" class="code-block__code">Footer</code>, we can use <code value="Card.Header" class="code-block__code">Card.Header</code>, <code value="Card.Body" class="code-block__code">Card.Body</code>, <code value="Card.Footer" class="code-block__code">Card.Footer</code> in the other place.</p>
<p class=" code-block__paragraph">Here is the example of usage:</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#c792ea;font-style:italic">class</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">App</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">extends</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Component</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea">render</span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>            </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f2ff00">Card</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f2ff00">Card.Header</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                    </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">h1</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">Header</span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">h1</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f2ff00">Card.Header</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f2ff00">Card.Body</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                    </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">p</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">Body</span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">p</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f2ff00">Card.Body</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f2ff00">Card.Footer</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                    </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">p</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">Footer</span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">p</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f2ff00">Card.Footer</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f2ff00">Card</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span></code></pre></div></pre>
<h2>Using function component</h2>
<p class=" code-block__paragraph">For the person who are familiar with function component, we can use function component to create sub-component.</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#c792ea;font-style:italic">interface</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">IHeaderProps</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    children</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">ReactNode</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token" style="color:#c792ea">FC</span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token maybe-class-name">IHeaderProps</span><span class="token token" style="color:#89ddff">&gt;</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>props</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__header</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>props</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">interface</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">ICardProps</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    children</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">ReactNode</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Card</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token" style="color:#c792ea">FC</span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token maybe-class-name">ICardProps</span><span class="token token" style="color:#89ddff">&gt;</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>props</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>props</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token maybe-class-name">Card</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Header</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">;</span><span>
</span></code></pre></div></pre>
<h2>Other stuffs related to sub-component</h2>
<h3>Component display name</h3>
<p class=" code-block__paragraph">When we are using react dev tool, the sub-components named still show as <code value="Header" class="code-block__code">Header</code>, <code value="Body" class="code-block__code">Body</code>, <code value="Footer" class="code-block__code">Footer</code>. It&#x27;s not show as <code value="Card.Header" class="code-block__code">Card.Header</code>, <code value="Card.Body" class="code-block__code">Card.Body</code>, <code value="Card.Footer" class="code-block__code">Card.Footer</code>.
To enhance the connection between them, we can add <code value="displayName" class="code-block__code">displayName</code> to the sub-component.</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#c792ea;font-style:italic">class</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">Header</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">extends</span><span> </span><span class="token token maybe-class-name" style="color:#f2ff00">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Component</span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token maybe-class-name">IHeaderProps</span><span class="token token" style="color:#89ddff">&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">public</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">static</span><span> displayName </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#c3e88d">&#x27;Card.Header&#x27;</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">public</span><span> </span><span class="token token" style="color:#c792ea">render</span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>            </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__header</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">                </span><span class="token token" style="color:#89ddff">{</span><span class="token token" style="color:#c792ea;font-style:italic">this</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">props</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span></code></pre></div></pre>
<h3>Constrain children only for sub-component</h3>
<p class=" code-block__paragraph">To constrain just only sub-components can be used in the parent component. We can use <code value="React.Children" class="code-block__code">React.Children</code> to check
the type of children.</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Card</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children</span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> subComponentKeys </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token known-class-name" style="color:#f2ff00">Object</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">keys</span><span class="token token" style="color:#89ddff">(</span><span class="token token maybe-class-name">Card</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> childrenComponents </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Children</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">map</span><span class="token token" style="color:#89ddff">(</span><span>children</span><span class="token token" style="color:#89ddff">,</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>child</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">if</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>subComponentKeys</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">includes</span><span class="token token" style="color:#89ddff">(</span><span>child</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">type</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">name</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>            </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> child</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">}</span><span>
</span><span>        </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token null nil" style="color:#c792ea;font-style:italic">null</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>childrenComponents</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children</span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__header</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#546e7a">// Card now will have a key `Header`</span><span>
</span><span></span><span class="token token maybe-class-name">Card</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access maybe-class-name">Header</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">;</span><span>
</span></code></pre></div></pre>
<h3>Automatically assign and add display name</h3>
<p class=" code-block__paragraph">We can use this function to assign children to the parent component, and add display name to children component.</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token module" style="color:#c792ea;font-style:italic">import</span><span> </span><span class="token token imports maybe-class-name">React</span><span> </span><span class="token token module" style="color:#c792ea;font-style:italic">from</span><span> </span><span class="token token" style="color:#c3e88d">&#x27;react&#x27;</span><span class="token token" style="color:#89ddff">;</span><span>
</span>
<span></span><span class="token token" style="color:#546e7a">/**
</span><span class="token token" style="color:#546e7a"> * Attaches subcomponents to a parent component for use in
</span><span class="token token" style="color:#546e7a"> * composed components. Example:
</span><span class="token token" style="color:#546e7a"> * 
</span><span class="token token" style="color:#546e7a"> * &lt;Parent&gt;
</span><span class="token token" style="color:#546e7a"> *    &lt;Parent.Title&gt;abc&lt;/Parent.Title&gt;
</span><span class="token token" style="color:#546e7a"> *    &lt;Parent.Body prop1=&quot;foobar&quot;/&gt;
</span><span class="token token" style="color:#546e7a"> * &lt;/Parent&gt;
</span><span class="token token" style="color:#546e7a"> * 
</span><span class="token token" style="color:#546e7a"> *
</span><span class="token token" style="color:#546e7a"> * This function also sets displayname on the parent component
</span><span class="token token" style="color:#546e7a"> * and all children component, and has the correct return type
</span><span class="token token" style="color:#546e7a"> * for typescript.
</span><span class="token token" style="color:#546e7a"> *
</span><span class="token token" style="color:#546e7a"> * @param displayName topLevelComponent&#x27;s displayName
</span><span class="token token" style="color:#546e7a"> * @param topLevelComponent the parent element of the composed component
</span><span class="token token" style="color:#546e7a"> * @param otherComponents an object of child components (keys are the names of the child components)
</span><span class="token token" style="color:#546e7a"> * @returns the top level component with otherComponents as static properties
</span><span class="token token" style="color:#546e7a"> */</span><span>
</span><span></span><span class="token token module" style="color:#c792ea;font-style:italic">export</span><span> </span><span class="token token" style="color:#c792ea;font-style:italic">function</span><span> </span><span class="token token generic-function" style="color:#c792ea">attachSubComponents</span><span class="token token generic-function generic" style="color:#89ddff">&lt;</span><span class="token token generic-function generic" style="color:#f2ff00">
</span><span class="token token generic-function generic" style="color:#f2ff00">  </span><span class="token token generic-function generic" style="color:#c792ea">C</span><span class="token token generic-function generic" style="color:#f2ff00"> </span><span class="token token generic-function generic" style="color:#c792ea;font-style:italic">extends</span><span class="token token generic-function generic" style="color:#f2ff00"> </span><span class="token token generic-function generic maybe-class-name" style="color:#f2ff00">React</span><span class="token token generic-function generic" style="color:#89ddff">.</span><span class="token token generic-function generic property-access maybe-class-name" style="color:#f2ff00">ComponentType</span><span class="token token generic-function generic" style="color:#89ddff">,</span><span class="token token generic-function generic" style="color:#f2ff00">
</span><span class="token token generic-function generic" style="color:#f2ff00">  </span><span class="token token generic-function generic" style="color:#c792ea">O</span><span class="token token generic-function generic" style="color:#f2ff00"> </span><span class="token token generic-function generic" style="color:#c792ea;font-style:italic">extends</span><span class="token token generic-function generic" style="color:#f2ff00"> </span><span class="token token generic-function generic maybe-class-name" style="color:#f2ff00">Record</span><span class="token token generic-function generic" style="color:#89ddff">&lt;</span><span class="token token generic-function generic" style="color:#ffcb6b">string</span><span class="token token generic-function generic" style="color:#89ddff">,</span><span class="token token generic-function generic" style="color:#f2ff00"> </span><span class="token token generic-function generic maybe-class-name" style="color:#f2ff00">React</span><span class="token token generic-function generic" style="color:#89ddff">.</span><span class="token token generic-function generic property-access maybe-class-name" style="color:#f2ff00">ComponentType</span><span class="token token generic-function generic" style="color:#89ddff">&gt;</span><span class="token token generic-function generic" style="color:#f2ff00">
</span><span class="token token generic-function generic" style="color:#f2ff00"></span><span class="token token generic-function generic" style="color:#89ddff">&gt;</span><span class="token token" style="color:#89ddff">(</span><span>displayName</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token" style="color:#ffcb6b">string</span><span class="token token" style="color:#89ddff">,</span><span> topLevelComponent</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token" style="color:#c792ea">C</span><span class="token token" style="color:#89ddff">,</span><span> otherComponents</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token" style="color:#c792ea">O</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token" style="color:#c792ea">C</span><span> </span><span class="token token" style="color:#89ddff">&amp;</span><span> </span><span class="token token" style="color:#c792ea">O</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>  topLevelComponent</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">displayName</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> displayName</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span>  </span><span class="token token known-class-name" style="color:#f2ff00">Object</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">values</span><span class="token token" style="color:#89ddff">(</span><span>otherComponents</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">forEach</span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">(</span><span>component</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span>
</span><span>      </span><span class="token token" style="color:#89ddff">(</span><span>component</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">displayName</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token template-string template-punctuation" style="color:#c3e88d">`</span><span class="token token template-string interpolation interpolation-punctuation" style="color:#89ddff">${</span><span class="token token template-string interpolation">displayName</span><span class="token token template-string interpolation interpolation-punctuation" style="color:#89ddff">}</span><span class="token token template-string" style="color:#c3e88d">.</span><span class="token token template-string interpolation interpolation-punctuation" style="color:#89ddff">${</span><span class="token token template-string interpolation">component</span><span class="token token template-string interpolation" style="color:#89ddff">.</span><span class="token token template-string interpolation property-access">displayName</span><span class="token token template-string interpolation interpolation-punctuation" style="color:#89ddff">}</span><span class="token token template-string template-punctuation" style="color:#c3e88d">`</span><span class="token token" style="color:#89ddff">)</span><span>
</span><span>  </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span>
<span>  </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token known-class-name" style="color:#f2ff00">Object</span><span class="token token" style="color:#89ddff">.</span><span class="token token method property-access" style="color:#c792ea">assign</span><span class="token token" style="color:#89ddff">(</span><span>topLevelComponent</span><span class="token token" style="color:#89ddff">,</span><span> otherComponents</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span></code></pre></div></pre>
<p class=" code-block__paragraph">Here is the example of usage:</p>
<pre><div class="code-block__block"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="code-block__copy-func" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg><pre style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;position:relative;margin:0.5em 0;padding:1.25em 1em"><code class="language-tsx" style="text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;color:#c3cee3;background:#263238;font-family:Roboto Mono, monospace;font-size:1em;line-height:1.5em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token token module" style="color:#c792ea;font-style:italic">import</span><span> </span><span class="token token imports maybe-class-name">ReactMarkdown</span><span> </span><span class="token token module" style="color:#c792ea;font-style:italic">from</span><span> </span><span class="token token" style="color:#c3e88d">&#x27;react-markdown&#x27;</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token module" style="color:#c792ea;font-style:italic">import</span><span> children </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token maybe-class-name">ReactMarkdown</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">propTypes</span><span class="token token" style="color:#89ddff">.</span><span class="token token property-access">children</span><span class="token token" style="color:#89ddff">;</span><span>
</span>
<span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">InternalCard</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children </span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children </span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__header</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Body</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children </span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__body</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Footer</span><span class="token token" style="color:#89ddff">:</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#89ddff">.</span><span class="token token method-variable function-variable method property-access maybe-class-name" style="color:#c792ea">FC</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#89ddff">{</span><span> children </span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span> </span><span class="token token arrow" style="color:#89ddff">=&gt;</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token control-flow" style="color:#c792ea;font-style:italic">return</span><span> </span><span class="token token" style="color:#89ddff">(</span><span>
</span><span>        </span><span class="token token" style="color:#89ddff">&lt;</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#f07178"> </span><span class="token token" style="color:#ffcb6b">className</span><span class="token token attr-equals" style="color:#89ddff">=</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#c3e88d">card__footer</span><span class="token token" style="color:#89ddff">&#x27;</span><span class="token token" style="color:#89ddff">&gt;</span><span class="token token plain-text">
</span><span class="token token plain-text">            </span><span class="token token" style="color:#89ddff">{</span><span>children</span><span class="token token" style="color:#89ddff">}</span><span class="token token plain-text">
</span><span class="token token plain-text">        </span><span class="token token" style="color:#89ddff">&lt;/</span><span class="token token" style="color:#f07178">div</span><span class="token token" style="color:#89ddff">&gt;</span><span>
</span><span>    </span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span>
</span><span></span><span class="token token" style="color:#c792ea;font-style:italic">const</span><span> </span><span class="token token maybe-class-name">Card</span><span> </span><span class="token token" style="color:#89ddff">=</span><span> </span><span class="token token" style="color:#c792ea">attachSubComponents</span><span class="token token" style="color:#89ddff">(</span><span class="token token" style="color:#c3e88d">&#x27;Card&#x27;</span><span class="token token" style="color:#89ddff">,</span><span> </span><span class="token token maybe-class-name">InternalCard</span><span class="token token" style="color:#89ddff">,</span><span> </span><span class="token token" style="color:#89ddff">{</span><span>
</span><span>    </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#89ddff">,</span><span>
</span><span>    </span><span class="token token maybe-class-name">Body</span><span class="token token" style="color:#89ddff">,</span><span>
</span><span>    </span><span class="token token maybe-class-name">Footer</span><span>
</span><span></span><span class="token token" style="color:#89ddff">}</span><span class="token token" style="color:#89ddff">)</span><span class="token token" style="color:#89ddff">;</span><span>
</span></code></pre></div></pre>
<h2>Problems may occur</h2>
<h3>Tree shaking</h3>
<p class=" code-block__paragraph"><a href="https://webpack.js.org/guides/tree-shaking/" class=" code-block__link">Tree shaking</a> is a technique to remove the unused code from the bundle.
With this kind of implementation, the tree shaking may not work as expected. Because the sub-components are included in
the top-level component, and then it imports and exports all the sub-components when we use the top-level component.</p>
<p class=" code-block__paragraph">Therefore, when we have many unused sub-components, the bundle size doesn&#x27;t decrease as expected.
Nevertheless, when we meet this problem, it means that we are overuse the sub-components, so we should split them into
another components.</p>
<h1>Reference</h1>
<ul>
<li><a href="https://dev.to/devsatasurion/the-best-way-to-build-big-react-components-5295" class=" code-block__link">The best way to build a big react components</a></li>
<li><a href="https://dev.to/hey_yogini/create-react-subcomponents-in-a-simple-way-5h1f" class=" code-block__link">Create react subcomponents</a></li>
<li><a href="https://www.skovy.dev/blog/using-component-dot-notation-with-typescript-to-create-a-set-of-components?seed=i30o5s" class=" code-block__link">Using component dot notation with typescript</a></li>
</ul></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"frontmatter":{"title":"Sub component for big complex component","date":"Feb 07, 2024","excerpt":"Guide to use React Hook Form with Yup","tag":"reactjs","author":"Nghia Ngo","cover_image":"/images/posts/how-you-understand-nodejs/nodejs-cover.jpeg"},"slug":"react-sub-component-for-big-complex-component","content":"\n# Introduction\nWhen we are working in a complex component, which are made up of many different pieces.\nWe can put all these components into a folder to show the relationship between them. But this way doesn't show the \nrelationship when we are using them. Therefore, to boost the relationship and speed up the development.\nWe can use sub-component to show the relationship between components.\n\n## What is sub-component\nSub-component is a child component that can be call by Parent component.\nFor example, we have a `Card` component, and we want to use `Header`, `Body`, `Footer` in `Card` component.\nWe can create `Header`, `Body`, `Footer` as sub-component of `Card` component.\nThen we export them inside `Card` component, and access them by `Card.Header`, `Card.Body`, `Card.Footer`.\n\n## Why we need sub-component\n### Namespacing\nAll sub-components are inherently namespaced under the parent component. Although we can use this component without\nthe parent component, the name of the sub-component will notify the user that it is a part of the parent component.\nTherefore, we don't take too much effort to see the relationship between them.\n### Single Import\nWith only parent component imported, we can call all sub-components. It's very convenient when we want to grow the\ncomponent in the future, and then we don't need to re-import the sub-components.\n### Discoverability\nWith namespacing, the developers don't need to remember the name of the sub-component. We just only need to know the parent\ncomponent, and then we can use dot notation to see all the sub-components.\n\n# How to create sub-component\nTo create sub-component, we have different ways to do it. We can use class component, function component.\n## Using class component\n\n```tsx\ninterface IHeaderProps {\n    children: React.ReactNode;\n}\nclass Header extends React.Component\u003cIHeaderProps\u003e {\n   public render() {\n        return (\n            \u003cdiv className='card__header'\u003e\n                {this.props.children}\n            \u003c/div\u003e\n        );\n    }\n}\ninterface ICardProps {\n    children: React.ReactNode;\n}\nclass Card extends React.Component\u003cIProps\u003e {\n    public static Header = Header;\n    public render() {\n        return (\n            \u003cdiv className='card'\u003e\n                {this.props.children}\n            \u003c/div\u003e\n        );\n    }\n}\n```\nYou can refer to the example above, we can add `Body` and `Footer` in the same way as `Header`.\n\nAfter defined public static `Header`, `Body`, and `Footer`, we can use `Card.Header`, `Card.Body`, `Card.Footer` in the other place.\n\nHere is the example of usage:\n```tsx\nclass App extends React.Component {\n    render() {\n        return (\n            \u003cCard\u003e\n                \u003cCard.Header\u003e\n                    \u003ch1\u003eHeader\u003c/h1\u003e\n                \u003c/Card.Header\u003e\n                \u003cCard.Body\u003e\n                    \u003cp\u003eBody\u003c/p\u003e\n                \u003c/Card.Body\u003e\n                \u003cCard.Footer\u003e\n                    \u003cp\u003eFooter\u003c/p\u003e\n                \u003c/Card.Footer\u003e\n            \u003c/Card\u003e\n        );\n    }\n}\n```\n\n## Using function component\nFor the person who are familiar with function component, we can use function component to create sub-component.\n\n```tsx\ninterface IHeaderProps {\n    children: React.ReactNode;\n}\nconst Header: React.FC\u003cIHeaderProps\u003e = (props) =\u003e {\n    return (\n        \u003cdiv className='card__header'\u003e\n            {props.children}\n        \u003c/div\u003e\n    );\n}\ninterface ICardProps {\n    children: React.ReactNode;\n}\nconst Card: React.FC\u003cICardProps\u003e = (props) =\u003e {\n    return (\n        \u003cdiv className='card'\u003e\n            {props.children}\n        \u003c/div\u003e\n    );\n}\nCard.Header = Header;\n```\n## Other stuffs related to sub-component\n### Component display name\nWhen we are using react dev tool, the sub-components named still show as `Header`, `Body`, `Footer`. It's not show as `Card.Header`, `Card.Body`, `Card.Footer`.\nTo enhance the connection between them, we can add `displayName` to the sub-component.\n\n```tsx\nclass Header extends React.Component\u003cIHeaderProps\u003e {\n    public static displayName = 'Card.Header';\n    public render() {\n        return (\n            \u003cdiv className='card__header'\u003e\n                {this.props.children}\n            \u003c/div\u003e\n        );\n    }\n}\n```\n### Constrain children only for sub-component\nTo constrain just only sub-components can be used in the parent component. We can use `React.Children` to check\nthe type of children.\n```tsx\nconst Card: React.FC = ({ children}) =\u003e {\n    const subComponentKeys = Object.keys(Card);\n    const childrenComponents = React.Children.map(children, (child) =\u003e {\n        if (subComponentKeys.includes(child.type.name)) {\n            return child;\n        }\n        return null;\n    });\n    return (\n        \u003cdiv className='card'\u003e\n            {childrenComponents}\n        \u003c/div\u003e\n    );\n}\nconst Header: React.FC = ({ children}) =\u003e {\n    return (\n        \u003cdiv className='card__header'\u003e\n            {children}\n        \u003c/div\u003e\n    );\n}\n// Card now will have a key `Header`\nCard.Header = Header;\n```\n\n### Automatically assign and add display name\n\nWe can use this function to assign children to the parent component, and add display name to children component.\n```tsx\nimport React from 'react';\n\n/**\n * Attaches subcomponents to a parent component for use in\n * composed components. Example:\n * \n * \u003cParent\u003e\n *    \u003cParent.Title\u003eabc\u003c/Parent.Title\u003e\n *    \u003cParent.Body prop1=\"foobar\"/\u003e\n * \u003c/Parent\u003e\n * \n *\n * This function also sets displayname on the parent component\n * and all children component, and has the correct return type\n * for typescript.\n *\n * @param displayName topLevelComponent's displayName\n * @param topLevelComponent the parent element of the composed component\n * @param otherComponents an object of child components (keys are the names of the child components)\n * @returns the top level component with otherComponents as static properties\n */\nexport function attachSubComponents\u003c\n  C extends React.ComponentType,\n  O extends Record\u003cstring, React.ComponentType\u003e\n\u003e(displayName: string, topLevelComponent: C, otherComponents: O): C \u0026 O {\n  topLevelComponent.displayName = displayName;\n  Object.values(otherComponents).forEach(\n    (component) =\u003e\n      (component.displayName = `${displayName}.${component.displayName}`)\n  );\n\n  return Object.assign(topLevelComponent, otherComponents);\n}\n```\n\nHere is the example of usage:\n\n```tsx\nimport ReactMarkdown from 'react-markdown';\nimport children = ReactMarkdown.propTypes.children;\n\nconst InternalCard: React.FC = ({ children }) =\u003e {\n    return (\n        \u003cdiv className='card'\u003e\n            {children}\n        \u003c/div\u003e\n    );\n}\nconst Header: React.FC = ({ children }) =\u003e {\n    return (\n        \u003cdiv className='card__header'\u003e\n            {children}\n        \u003c/div\u003e\n    );\n}\nconst Body: React.FC = ({ children }) =\u003e {\n    return (\n        \u003cdiv className='card__body'\u003e\n            {children}\n        \u003c/div\u003e\n    );\n}\nconst Footer: React.FC = ({ children }) =\u003e {\n    return (\n        \u003cdiv className='card__footer'\u003e\n            {children}\n        \u003c/div\u003e\n    );\n}\nconst Card = attachSubComponents('Card', InternalCard, {\n    Header,\n    Body,\n    Footer\n});\n```\n## Problems may occur\n### Tree shaking\n[Tree shaking](https://webpack.js.org/guides/tree-shaking/) is a technique to remove the unused code from the bundle.\nWith this kind of implementation, the tree shaking may not work as expected. Because the sub-components are included in\nthe top-level component, and then it imports and exports all the sub-components when we use the top-level component.\n\nTherefore, when we have many unused sub-components, the bundle size doesn't decrease as expected.\nNevertheless, when we meet this problem, it means that we are overuse the sub-components, so we should split them into\nanother components.\n\n\n# Reference\n- [The best way to build a big react components](https://dev.to/devsatasurion/the-best-way-to-build-big-react-components-5295)\n- [Create react subcomponents](https://dev.to/hey_yogini/create-react-subcomponents-in-a-simple-way-5h1f)\n- [Using component dot notation with typescript](https://www.skovy.dev/blog/using-component-dot-notation-with-typescript-to-create-a-set-of-components?seed=i30o5s)"},"__N_SSG":true},"page":"/guide/[slug]","query":{"slug":"react-sub-component-for-big-complex-component"},"buildId":"ylG0eKTBBf-wlJIinfZSJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>